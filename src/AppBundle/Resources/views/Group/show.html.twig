{% extends "::layout.html.twig" %}

{% block headline %}
    {{ 'title.view_group'|trans({}, 'AppBundle') }}
{% endblock %}

{% block content_content %}
<dl class="dl-horizontal">
    <dt>ID</dt>
    <dd>{{ group.id }}</dd>

    <dt>{{ 'form.label.name'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.name }}</dd>

    <dt>{{ 'form.label.weekday'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ ('date.weekday.'~ group.weekday)|trans({}, 'AppBundle') }}</dd>

    <dt>{{ 'form.label.hour'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.hour|date("H:i") }}</dd>

    <dt>{{ 'form.label.start_date'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.startDate|date("d/m/Y") }}</dd>

    <dt>{{ 'form.label.end_date'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.endDate|date("d/m/Y") }}</dd>

    <dt>{{ 'form.label.whatsapp_group'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.whatsappGroup }}</dd>

    <dt>{{ 'form.label.course'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.course.description }}</dd>
    <dt>{{ 'form.label.room'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.room.name }}</dd>
    <dt>{{ 'form.label.teacher'|trans({}, 'AppBundle') }}</dt>
    <dd>{{ group.teacher.fullName }}</dd>
</dl>

<a href="{{ path('mayimbe_group_index') }}" class="btn btn-primary btn-sm" role="button">{{ 'button.go_to_index'|trans({}, 'AppBundle') }}</a>
<a href="{{ path('mayimbe_group_add_student', {'id': group.id }) }}" class="btn btn-default btn-sm" role="button">{{ 'button.add_student'|trans({}, 'AppBundle') }}</a>
<a href="{{ path('mayimbe_group_edit', {'id': group.id }) }}" class="btn btn-default btn-sm" role="button">{{ 'button.edit'|trans({}, 'AppBundle') }}</a>
<a href="{{ path('mayimbe_group_remove', {'id': group.id }) }}" class="btn btn-danger btn-sm" role="button">{{ 'button.delete'|trans({}, 'AppBundle') }}</a>


<div class="table-responsive">
    <table class="table table-striped table-hover table-condensed">
        <caption><h3>{{ 'title.students'|trans({}, 'AppBundle') }}</h3></caption>
        <thead>
        <tr>
            <th data-field="id" data-align="right" data-sortable="true">ID</th>
            <th data-field="student" data-sortable="true">{{ 'form.label.name'|trans({}, 'AppBundle') }}</th>
            <th data-field="student" data-sortable="true">{{ 'form.label.is_reinforcing'|trans({}, 'AppBundle') }}</th>
            <th data-field="edit" data-sortable="false"></th>
            <th data-field="delete" data-sortable="false"></th>
        </tr>
        </thead>
        <tbody>
        {% for student in students %}
            <tr class="tr-class-1">
                <td class="info">{{ student.student.id }}</td>
                <td>{{ student.student.getFullName }}</td>
                <td>{{ student.isReinforcing }}</td>
                <td class="info"><a href="{{ path('mayimbe_group_edit_student', {'id': group.id, 'studentId': student.student.id }) }}" class="btn btn-default btn-xs" role="button">{{ 'button.edit'|trans({}, 'AppBundle') }}</a></td>
                <td class="danger"><a href="{{ path('mayimbe_group_remove_student', {'id': group.id, 'studentId': student.student.id }) }}" class="btn btn-danger btn-xs" role="button">{{ 'button.delete'|trans({}, 'AppBundle') }}</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
